"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_app-uuid_app-uuid_ts-packages_repos-file-tree-view_repos-file-tree-view_ts"],{52475:(e,t,n)=>{n.d(t,{_S:()=>i,cB:()=>o,cW:()=>l});var a=n(53627),r=n(71315);let i=()=>{let e=(0,a.JV)().appId;return e&&"rails"!==e?e:crypto.randomUUID()},l=e=>{(0,a.C3)({appId:e})},o=()=>{let e=document.querySelector("react-app")||document.querySelector("projects-v2");return e?.uuid||"rails"};r.cg?.addEventListener("hashchange",()=>{(0,a.C3)({appId:o()})},!0)},23451:(e,t,n)=>{n.d(t,{Z:()=>a});function a({appendQuery:e,retainScrollPosition:t,returnTarget:n}){window.dispatchEvent(new CustomEvent("blackbird_monolith_append_and_focus_input",{detail:{appendQuery:e,retainScrollPosition:t,returnTarget:n}}))}},41617:(e,t,n)=>{function a(e){return"blob"in e}function r(e){return a(e)&&"blame"in e}function i(e){return"deleteInfo"in e&&"webCommitInfo"in e}function l(e){return"editInfo"in e&&"webCommitInfo"in e}n.d(t,{fP:()=>o,KR:()=>r,mM:()=>a,iS:()=>i,di:()=>l,Hf:()=>s});let o={README:"readme",CODE_OF_CONDUCT:"code_of_conduct",CONTRIBUTING:"contributing",LICENSE:"license",SECURITY:"security"};function s(e){return"tree"in e}},31315:(e,t,n)=>{function a(e){return r(e)[0]}function r(e){let t=[];for(let n of function(){try{return document.cookie.split(";")}catch{return[]}}()){let[a,r]=n.trim().split("=");e===a&&void 0!==r&&t.push({key:a,value:r})}return t}function i(e,t,n=null,a=!1,r="lax"){let l=document.domain;if(null==l)throw Error("Unable to get document domain");l.endsWith(".github.com")&&(l="github.com");let o="https:"===location.protocol?"; secure":"",s=n?`; expires=${n}`:"";!1===a&&(l=`.${l}`);try{document.cookie=`${e}=${t}; path=/; domain=${l}${s}${o}; samesite=${r}`}catch{}}function l(e,t=!1){let n=document.domain;if(null==n)throw Error("Unable to get document domain");n.endsWith(".github.com")&&(n="github.com");let a=new Date(Date.now()-1).toUTCString(),r="https:"===location.protocol?"; secure":"",i=`; expires=${a}`;!1===t&&(n=`.${n}`);try{document.cookie=`${e}=''; path=/; domain=${n}${i}${r}`}catch{}}n.d(t,{OR:()=>r,Ri:()=>a,TV:()=>i,Yj:()=>l})},17182:(e,t,n)=>{n.d(t,{Nq:()=>W,H:()=>p,c2:()=>em,Uy:()=>K,qn:()=>ew});var a=n(74848),r=n(12748),i=n(80780),l=n(8624),o=n(54571),s=n(38621),c=n(55847),d=n(34164),u=n(96540);let m={expandButton:"ExpandFileTreeButton-module__expandButton--oKI1R",filesButtonBreakpoint:"ExpandFileTreeButton-module__filesButtonBreakpoint--03FKA",Button_1:"ExpandFileTreeButton-module__Button_1--g8F6Q"},f=u.forwardRef(({expanded:e,onToggleExpanded:t,className:n,ariaControls:u,textAreaId:f,useFilesButtonBreakpoint:h=!0,variant:p,getTooltipDirection:x},g)=>{let{toggleTreeShortcut:y}=(0,i.wk)(),[_]=(0,o.I)(()=>!1,!0,[]),v=x?.(e)??"se";return(0,a.jsxs)(a.Fragment,{children:[h&&(!e||_)&&(0,a.jsx)(c.Q,{"aria-label":"Expand file tree",leadingVisual:s.ArrowLeftIcon,"data-hotkey":y.hotkey,"data-testid":"expand-file-tree-button-mobile",ref:g,onClick:t,variant:p??"invisible",className:m.Button_1,children:"Files"}),(0,a.jsx)(l.L,{dataHotkey:y.hotkey,className:(0,d.$)(n,"position-relative",m.expandButton,{[m.filesButtonBreakpoint]:h&&(!e||_)}),expanded:e,alignment:"left",ariaLabel:e?"Collapse file tree":"Expand file tree",tooltipDirection:v,testid:"file-tree-button",ariaControls:u,ref:g,variant:p,onToggleExpanded:t}),(0,a.jsx)(r._,{buttonFocusId:f,buttonHotkey:y.hotkey,onButtonClick:t,onlyAddHotkeyScopeButton:!0})]})});f.displayName="ExpandFileTreeButton";var h=n(6665);function p({inputRef:e,onFindFilesShortcut:t,textAreaId:n}){let{sendRepoKeyDownEvent:l}=(0,h.T)(),{findFilesShortcut:o}=(0,i.wk)();return(0,a.jsx)(r._,{buttonFocusId:n,buttonHotkey:o.hotkey,onButtonClick:()=>{t?.(),e?.current?.focus(),l("GO_TO_FILE")}})}try{p.displayName||(p.displayName="FindFilesShortcut")}catch{}var x=n(6873),g=n(93753),y=n(31078),_=n(46209),v=n(19189),R=n(78314),w=n(69599),F=n(53419),b=n(25407),C=n(66108),I=n(94195),N=n(64830),T=n(96379),j=n(11683),E=n(83294),k=n(87330),B=n(93653),S=n(35181),L=n(30729),O=n(21998),A=n(27104);let P=(0,u.createContext)({knownFolders:new Map,dispatchKnownFolders:()=>{}});try{P.displayName||(P.displayName="FileTreeContext")}catch{}let $={Pane:"ReposFileTreePane-module__Pane--D26Sw",HidePane:"ReposFileTreePane-module__HidePane--a07q8",HidePaneWithTreeOverlay:"ReposFileTreePane-module__HidePaneWithTreeOverlay--CJn2n",Overlay:"ReposFileTreePane-module__Overlay--ynIDA",HideTree:"ReposFileTreePane-module__HideTree--IyYTf",Box_1:"ReposFileTreePane-module__Box_1--ZT_4S",Box_2:"ReposFileTreePane-module__Box_2--RgzGf",Box_3:"ReposFileTreePane-module__Box_3--XDLn8",Box_4:"ReposFileTreePane-module__Box_4--TLAAU",IconButton:"ReposFileTreePane-module__IconButton--fpuBk",FileResultsList:"ReposFileTreePane-module__FileResultsList--YEf_n",Box_5:"ReposFileTreePane-module__Box_5--cckih",Box_6:"ReposFileTreePane-module__Box_6--zVfxO",Box_7:"ReposFileTreePane-module__Box_7--v7doA",Box_8:"ReposFileTreePane-module__Box_8--KVzCi",FullWidthButtonGroup:"ReposFileTreePane-module__FullWidthButtonGroup--avF6A"};var D=n(53552),H=n(25556),G=n(34535),M=n(96459),V=n(20426),z=n(12004);let U=(0,u.createContext)({});function W({children:e}){let t=(0,u.useRef)(!1),n=(0,u.useRef)(!1),r=(0,u.useRef)(!0),i=(0,u.useCallback)(e=>{t.current=e},[]),l=(0,u.useCallback)(e=>{n.current=e},[]),o=(0,u.useCallback)(e=>{r.current=e},[]),s=(0,u.useMemo)(()=>({expandAllFolders:t,refreshTree:n,shouldFetchFolders:r,setExpandAllFolders:i,setRefreshTree:l,setShouldFetchFolders:o}),[i,l,o]);return(0,a.jsx)(U.Provider,{value:s,children:e})}function K(){return(0,u.useContext)(U)}try{U.displayName||(U.displayName="FileTreeControlContext")}catch{}try{W.displayName||(W.displayName="FileTreeControlProvider")}catch{}var q=n(65556);function Z(e,t,n){let a=[];for(let r of t)if(r.startsWith(e)){let t=r.slice(e.length+1),i=t.indexOf("/"),l=i>0?t.slice(0,i):t,o=`${e}/${l}`;if(n&&n.some(e=>e.path===o))continue;let s={items:[],data:{contentType:o===r?"file":"directory",name:l,path:o,isClientOnly:!0}};a.push(s)}return a}function Y(e,t,n){e.data.name=e.data.name.slice(e.data.name.lastIndexOf("/")+1,e.data.name.length);let a=t.name.slice(0,t.name.lastIndexOf("/")),r=a.indexOf("/")>-1,i={path:t.path.slice(0,t.path.lastIndexOf("/")),contentType:t.contentType,name:a,hasSimplifiedPath:r},l={items:[e],data:i};return(n.set(i.path,l),r)?Y(l,{...i},n):l}let X={Box:"ReposFileTreeView-module__Box--bDodO",Box_1:"ReposFileTreeView-module__Box_1--Q_A5H",Octicon:"ReposFileTreeView-module__Octicon--XcIsb",Box_2:"ReposFileTreeView-module__Box_2--bCLXn"};function J(e,t,n,a){if(!e)return{newRootItems:n,rootItemsUpdated:!1};let r=!!e[""]&&Q("",t,n,e[""].items);for(let r of(a?.(n),Object.keys(e).sort()))if(r){let n=t.get(r);n&&(Q(r,t,n.items,e[r].items,a),n.data.totalCount=e[r].totalCount)}return{newRootItems:n,rootItemsUpdated:r}}function Q(e,t,n,a,r){let i=!1;for(let l of a){let a=e?`${e}/${l.name}`:l.name;if(!t.get(a)){let e={items:[],data:{...l}};if(t.set(a,e),l.hasSimplifiedPath){let a=Y(e,l,t),o=n.findIndex(e=>e.data.path===a.data.path);-1!==o?a.items.length>n[o].items.length&&(n[o]=a,i=!0):(n.push(a),r?.(n))}else n.push(e),r?.(n)}}return i}function ee({isActive:e,file:t,onItemSelected:n,getItemUrl:r,selectedItemRef:i,navigate:l,onRenderRow:o,getFileTrailingVisual:c,getFileIcon:d}){let{sendRepoClickEvent:m}=(0,h.T)(),f=u.useRef(null),p=(0,G.Z)({focusRowRef:f,mouseRowRef:f}),x="submodule"===t.data.contentType,g=c?.(t.data),y=u.useCallback(a=>{x?(a.preventDefault(),t.data.submoduleUrl&&(window.location.href=t.data.submoduleUrl)):a.metaKey||a.ctrlKey||1===a.button?(window.open(r(t.data),"_blank"),a.preventDefault()):e?a.preventDefault():(n?.(),m("FILES_TREE.ITEM",{item_path:t.data.path}),l(r(t.data)),a.stopPropagation())},[t.data,r,e,x,l,n,m]);return o?.(),(0,a.jsxs)(V.G.Item,{ref:f,onSelect:y,current:e,id:`${t.data.path}-item`,containIntrinsicSize:e?void 0:"auto 2rem",children:[(0,a.jsx)(V.G.LeadingVisual,{children:d?d(t.data):x?(0,a.jsx)(s.FileSubmoduleIcon,{}):(0,a.jsx)(s.FileIcon,{})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{ref:i,style:{color:x?"var(--fgColor-accent, var(--color-accent-fg))":void 0},children:t.data.name}),p&&(0,a.jsx)(H.m,{"data-testid":`${t.data.name}-item-tooltip`,id:`${t.data.name}-item-tooltip`,contentRef:f,"aria-label":t.data.name,open:!0,direction:"ne"})]}),!!g?.screenReaderText&&(0,a.jsx)("span",{className:"sr-only",children:g.screenReaderText}),!!g?.trailingVisual&&(0,a.jsx)(V.G.TrailingVisual,{children:g.trailingVisual})]})}let et=u.memo(ee);function en({clientOnlyFilePaths:e,directory:t,isActive:n,isAncestorOfActive:r,leadingPath:i="",onItemSelected:l,dispatchKnownFolders:o,getItemUrl:s,getFetchUrl:c,selectedItemRef:d,navigate:m,onRenderRow:f,getFileTrailingVisual:p,getFileIcon:x,navigateOnClick:g=!0}){let{expandAllFolders:y,shouldFetchFolders:_}=K(),[v,R]=(0,u.useState)(y?.current||r),{sendRepoClickEvent:w}=(0,h.T)(),F=u.useRef(null),b=u.useRef(null),C=(0,G.Z)({focusRowRef:b,mouseRowRef:F}),[I,N,j,E,k,B,S]=function(e,t,n){let[a,r]=u.useState(e.items),[i,l]=u.useState(e.data.totalCount||0),[o,s]=u.useState(!1),[c,d]=u.useState(!1),{safeSetTimeout:m}=(0,q.A)();u.useEffect(()=>{r(e.items)},[e.items]),u.useEffect(()=>{void 0!==e.data.totalCount&&l(e.data.totalCount)},[e.data.totalCount]);let f=u.useCallback(()=>{d(!1)},[]),h=u.useCallback((e,t)=>{let n=e||[...a];r(n.slice(0,100)),m(()=>{r(n),void 0!==t&&l(t)},1)},[a,m]);return[u.useCallback(async a=>{let i=new Map;if(e.data.isClientOnly){if(a){let n=Z(e.data.path,a);for(let e of n)i.set(e.data.path,e);t({type:"add",folders:i,processingTime:0}),n.length>100?h(n,n.length):(r(n),l(n.length))}}else{let o=n(e.data);d(!1),s(!0);let c=Date.now(),u=await (0,T.lS)(`${o}?noancestors=1`);try{if(u.ok){let n=await u.json(),o=n.payload.tree.items.map(e=>{let t={items:[],data:{...e},autoExpand:"directory"===e.contentType&&1===n.payload.tree.items.length};return(i.set(e.path,t),e.hasSimplifiedPath)?Y(t,e,i):t});if(a){let t=e.data.path,r=Z(t,a,n.payload.tree.items);for(let e of(o.push(...r),r))i.set(e.data.path,e)}t({type:"add",folders:i,processingTime:Date.now()-c}),e.items=o,e.data.totalCount=n.payload.tree.totalCount,o.length>100?h(o,n.payload.tree.totalCount):(r(o),l(n.payload.tree.totalCount))}else d(!0)}catch{d(!0)}}s(!1)},[n,e,t,h]),h,a,o,c,f,i]}(t,o,c),L=S-j.length,O=i?`${i}/`:"";(0,u.useEffect)(()=>{y?.current&&!v&&R(!0)},[t,y,v]);let A=u.useCallback(a=>{y?.current&&(y.current=!1),a&&!v&&!E&&!k&&(t.items.length>100?N():0!==t.items.length||n||r||_?.current===!1||I(e)),a!==v&&R(a)},[y,v,E,k,t.items.length,n,r,_,N,I,e]),P=u.useCallback(e=>{e.metaKey||e.ctrlKey||1===e.button&&g?(window.open(s(t.data),"_blank"),e.preventDefault()):n?e.preventDefault():(l?.(),w("FILES_TREE.ITEM",{item_path:t.data.path}),g?m(s(t.data)):A?.(!v),e.stopPropagation())},[t.data,s,n,v,m,g,l,A,w]);u.useEffect(()=>{r&&!v&&A?.(!0)},[r]),u.useEffect(()=>{0===t.items.length&&v?A?.(!1):!v&&t.autoExpand&&A?.(!0)},[t.items.length]);let $=u.useCallback(e=>{d&&n&&d(e),F.current=e},[d,n]);return 1===t.items.length&&"directory"===t.items[0].data.contentType?(0,a.jsx)(ei,{clientOnlyFilePaths:e,directoryItems:t.items,leadingPath:O+t.data.name,inheritsActive:n,dispatchKnownFolders:o,onItemSelected:l,selectedItemRef:d,getItemUrl:s,directoryNavigateOnClick:g,getFileTrailingVisual:p,getFileIcon:x}):(f?.(),(0,a.jsxs)(V.G.Item,{ref:b,expanded:v,onExpandedChange:A,current:n,onSelect:P,id:`${t.data.path}-item`,containIntrinsicSize:n?void 0:"auto 2rem",children:[(0,a.jsx)(V.G.LeadingVisual,{children:(0,a.jsx)(V.G.DirectoryIcon,{})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{ref:$,children:[O,t.data.name]}),C&&(0,a.jsx)(H.m,{"data-testid":`${t.data.name}-directory-item-tooltip`,id:`${t.data.name}-directory-item-tooltip`,contentRef:b,"aria-label":`${O}${t.data.name}`,open:!0,direction:"ne"})]}),(0,a.jsx)(V.G.SubTree,{state:E?"loading":k?"error":"done",children:k?(0,a.jsx)(V.G.ErrorDialog,{onRetry:I,onDismiss:B,children:"There was an error loading the folder contents."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei,{clientOnlyFilePaths:e,directoryItems:j,dispatchKnownFolders:o,onItemSelected:l,selectedItemRef:d,getItemUrl:s,directoryNavigateOnClick:g,getFileTrailingVisual:p,getFileIcon:x}),L>0&&(0,a.jsx)(eo,{message:`${L} entries not shown`})]})})]}))}let ea=u.memo(en);function er({clientOnlyFilePaths:e,directoryItems:t,leadingPath:n,inheritsActive:r,onItemSelected:i,dispatchKnownFolders:l,selectedItemRef:o,onRenderRow:s,getItemUrl:c,getFileTrailingVisual:d,getFileIcon:m,directoryNavigateOnClick:f=!0}){let{path:h}=(0,D.eu)(),p=(0,v.Z)(),x=(0,M.Z)(),g=u.useRef(x);return(0,a.jsx)(a.Fragment,{children:t.map(t=>{let u=h===t.data.path,x=u||h.startsWith(`${t.data.path}/`);return"directory"===t.data.contentType?(0,a.jsx)(ea,{clientOnlyFilePaths:e,isActive:r||u,isAncestorOfActive:x,onItemSelected:i,leadingPath:n,directory:t,dispatchKnownFolders:l,getItemUrl:c,getFetchUrl:p.getItemUrl,selectedItemRef:x?o:void 0,navigate:g.current,onRenderRow:s,navigateOnClick:f,getFileTrailingVisual:d,getFileIcon:m,itemCount:t.items.length},t.data.name):(0,a.jsx)(et,{onItemSelected:i,file:t,isActive:u,getItemUrl:c,selectedItemRef:u?o:void 0,navigate:g.current,onRenderRow:s,getFileTrailingVisual:d,getFileIcon:m},t.data.name)})})}let ei=u.memo(er);function el(e){let{clientOnlyFilePaths:t,data:n,rootItems:r,setRootItems:i,fetchError:l,incompleteFileTree:o,processingTime:s,loading:c,onRenderRow:m,getItemUrl:f,getFileTrailingVisual:h,getFileIcon:p,sortDirectoryItems:x}=e,{knownFolders:g,dispatchKnownFolders:y}=(0,u.useContext)(P),{refreshTree:_}=K();u.useEffect(()=>{if(c)return;let e=new Map,t=[];_?.current||(e=new Map(g),t=r.slice());let{newRootItems:a,rootItemsUpdated:l}=J(n,e,t,x);(a.length>r.length||l||_?.current)&&i(a),(e.size>g.size||_?.current)&&y({type:"set",folders:e,processingTime:s}),_?.current&&(_.current=!1)},[n,c]);let v=u.useCallback(e=>{1===e.button&&e.preventDefault()},[]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{onMouseDown:v,className:(0,d.$)(e.className,X.Box),"data-testid":"repos-file-tree-container",children:c?(0,a.jsx)("div",{className:X.Box_1,children:(0,a.jsx)(z.A,{"aria-label":"Loading file tree"})}):(0,a.jsx)("nav",{"aria-label":"File Tree Navigation",children:(0,a.jsxs)(V.G,{"aria-label":"Files",children:[l&&(0,a.jsx)(eo,{message:"Some files could not be loaded."}),o&&(0,a.jsx)(eo,{message:"Sign in to see the full file tree."}),(0,a.jsx)(ei,{clientOnlyFilePaths:t,directoryItems:r,onItemSelected:e.onItemSelected,dispatchKnownFolders:y,selectedItemRef:e.selectedItemRef,onRenderRow:m,directoryNavigateOnClick:e.directoryNavigateOnClick,getItemUrl:f,getFileTrailingVisual:h,getFileIcon:p})]})})})})}function eo({message:e}){return(0,a.jsxs)(V.G.Item,{id:"error-tree-row",children:[(0,a.jsx)(V.G.LeadingVisual,{children:(0,a.jsx)(L.A,{icon:s.AlertFillIcon,className:X.Octicon})}),(0,a.jsx)("div",{className:X.Box_2,children:e||"Couldn't load."})]})}try{ee.displayName||(ee.displayName="WrappedFileTreeRow")}catch{}try{et.displayName||(et.displayName="FileTreeRow")}catch{}try{en.displayName||(en.displayName="WrappedDirectoryTreeRow")}catch{}try{ea.displayName||(ea.displayName="DirectoryTreeRow")}catch{}try{er.displayName||(er.displayName="WrappedDirectoryContents")}catch{}try{ei.displayName||(ei.displayName="DirectoryContents")}catch{}try{el.displayName||(el.displayName="ReposFileTreeView")}catch{}try{eo.displayName||(eo.displayName="ErrorTreeRow")}catch{}var es=n(23451);let ec={IconButton:"SearchButton-module__IconButton--kxA3Q"};function ed({sx:e,onClick:t,textAreaId:n}){let{searchShortcut:l}=(0,i.wk)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.K0,{"aria-label":"Search this repository",tooltipDirection:"nw",icon:s.SearchIcon,"data-hotkey":l.hotkey,sx:e,size:"medium",onClick:e=>{t?.(),(0,es.Z)({retainScrollPosition:!0,returnTarget:e.target.closest("button")})},className:ec.IconButton}),(0,a.jsx)(r._,{buttonFocusId:n,buttonHotkey:l.hotkey,onButtonClick:()=>{let e=document.getElementById(n);t?.(),(0,es.Z)({retainScrollPosition:!0,returnTarget:e??void 0})},onlyAddHotkeyScopeButton:!0})]})}try{ed.displayName||(ed.displayName="SearchButton")}catch{}let eu=I.Gy.xxxlarge;function em({clientOnlyFilePaths:e,collapseTree:t,showTree:n,fileTree:r,treeToggleElement:i,treeToggleRef:l,onItemSelected:c,processingTime:m,searchBoxRef:f,repo:h,path:F,refInfo:D,isFilePath:H,foldersToFetch:G,incompleteFileTree:M,id:V,onFindFilesShortcut:z,textAreaId:U,getItemUrlOverride:W,headerClassName:K,paneClassName:q,paneContentsClassName:Z,treeContainerClassName:Y,findFileWorkerPath:X,headerContent:Q,getFileTrailingVisual:ee,getFileIcon:et,sortDirectoryItems:en,showFindFile:ea=!0,directoryNavigateOnClick:er=!0,showRefSelectorRow:ei=!0,paneResizable:eo=!0}){if(ea&&void 0===X)throw Error("findFileWorkerPath must be provided when showFindFile is true");let{openPanel:es}=(0,_.Ak)(),[ec,em]=u.useState(G.length>0),[ep,ex]=u.useState(!1),eg=u.useRef([]),ey=u.useRef(null),e_=u.useRef(!1),ev=u.useRef(!1),eR=u.useRef(null),{query:ew}=(0,y.JS)(),eF=u.useRef(ew);eF.current=ew;let{codeCenterOption:eb}=(0,N.ud)(),eC=u.useRef(es),[eI]=(0,o.I)(()=>!1,!0,[]),{getItemUrl:eN}=(0,v.Z)(),eT=W||eN,{defaultBranch:ej}=(0,R.t)(),eE=[],ek=new Map,eB=u.useRef(ec);!eB.current&&r&&(eE=J(r,ek,[],en).newRootItems),eB.current=!0;let[eS,eL]=u.useReducer(ef,ek),[eO,eA]=u.useState(eE);u.useEffect(()=>{n&&(!ew||window.innerWidth>=I.Gy.large)||(eR.current=null)},[n,ew]),u.useEffect(()=>{es&&eC.current!==es&&window.innerWidth<eu&&t({setPreference:!1}),eC.current=es},[t,es]);let eP=u.useCallback(async e=>{let t=eN({contentType:"directory",path:e,name:e});try{let n=await (0,T.lS)(`${t}?noancestors=1`);if(n.ok){let t=await n.json(),a={items:t.payload.tree.items,totalCount:t.payload.tree.totalCount};r[e]=a}else ex(!0)}catch{ex(!0)}eg.current.push(e),eg.current.length===G.length&&em(!1)},[r,G.length,eN]);u.useEffect(()=>{if(M)em(!1);else if(G&&!e_.current)for(let e of G)eP(e);e_.current=!0},[eP,G,M,eS.size]);let e$=u.useCallback(e=>{n&&(!eF.current||window.innerWidth>=I.Gy.large)&&ey.current&&e&&(0,j.Rt)(e,ey.current,{endMargin:window.innerHeight/2,startMargin:window.innerHeight/2,behavior:"auto"})},[n]),eD=u.useCallback(e=>{e&&ev.current?ev.current=!1:eR.current!==e&&e$(e),eR.current=e},[e$]),eH=u.useCallback(e=>{ey.current=e,window.innerWidth>=eu&&e$(eR.current)},[e$]),eG=u.useCallback(e=>{e&&e$(eR.current)},[e$]),{screenSize:eM}=(0,I.lm)(),eV=!eI&&(es&&eM<eu||eM<I.Gy.xlarge)&&eM>=I.Gy.large,ez=u.useCallback(()=>{eV||c(),ev.current=!0},[c,eV]),eU=H?F.substring(0,F.lastIndexOf("/")):F,eW=(0,u.useMemo)(()=>({knownFolders:eS,dispatchKnownFolders:eL}),[eS]),eK=u.useMemo(()=>eI?null:(0,A.KF)(),[eI]),eq=u.useCallback(()=>{window.innerWidth>I.Gy.large&&window.innerWidth<I.Gy.xxxxlarge&&t({setPreference:!1})},[t]),eZ=(0,w.G7)("show_edit_on_default_option"),eY=D.name===ej,eX=(0,a.jsxs)(O.az,{id:V,sx:{maxHeight:"100%",height:"100%",display:"flex",flexDirection:"column","@media screen and (max-width: 768px)":eI?{display:"none"}:void 0,"@media screen and (min-width: 768px)":{maxHeight:"100vh",height:"100vh"}},className:Z,children:[(0,a.jsxs)("div",{className:(0,d.$)(K,$.Box_1),children:[Q,ei&&(0,a.jsxs)("div",{className:$.Box_2,children:[(0,a.jsx)("div",{className:$.Box_3,children:eZ&&!eY&&void 0!==D.fileExistsOnDefault?(0,a.jsxs)(E.A,{className:$.FullWidthButtonGroup,children:[D.fileExistsOnDefault?(0,a.jsx)(k.K,{icon:s.ChevronLeftIcon,"aria-label":"View file on default branch",as:C.N,to:(0,b.IO9)({repo:h,commitish:ej,action:"blob",path:F})}):(0,a.jsx)(k.K,{icon:s.ChevronLeftIcon,"aria-label":"View file on default branch",description:"File does not exist on default branch","aria-disabled":!0,inactive:!0}),(0,a.jsx)(g.R,{buttonClassName:"react-repos-tree-pane-ref-selector width-full ref-selector-class",allowResizing:!0})]}):(0,a.jsx)(g.R,{buttonClassName:"react-repos-tree-pane-ref-selector width-full ref-selector-class",allowResizing:!0})}),(0,a.jsxs)("div",{className:$.Box_4,children:[D.canEdit&&(0,a.jsx)(k.K,{"aria-label":"Add file",tooltipDirection:"n",as:C.N,icon:s.PlusIcon,to:(0,b.IO9)({repo:h,path:eU,commitish:D.name,action:"new"}),onClick:ez,className:$.IconButton}),(0,a.jsx)(ed,{sx:D.canEdit?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:void 0,onClick:eq,textAreaId:U})]})]})]}),D.currentOid&&ea&&X&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.default,{commitOid:D.currentOid,findFileWorkerPath:X,onItemSelected:c,searchBoxRef:f,sx:{"@media screen and (max-width: 768px)":eI?{display:"none"}:void 0},className:$.FileResultsList}),(0,a.jsx)(p,{inputRef:f,onFindFilesShortcut:z,textAreaId:U})]}),(0,a.jsx)(eh,{scrollingRef:ey}),(0,a.jsxs)(O.az,{ref:eH,sx:{"@media screen and (max-width: 768px)":eI?{display:"none"}:void 0},className:$.Box_5,children:[eI?D.currentOid&&(0,a.jsx)("div",{className:ew?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,a.jsx)(el,{clientOnlyFilePaths:e,data:r,rootItems:eO,selectedItemRef:eD,setRootItems:eA,onItemSelected:ez,processingTime:m,loading:ec,fetchError:ep,incompleteFileTree:M,directoryNavigateOnClick:er,getItemUrl:eT,className:Y,getFileTrailingVisual:ee,getFileIcon:et,sortDirectoryItems:en})}):eK&&(0,a.jsx)(A.bL,{node:eK}),!D.currentOid&&!h.isEmpty&&(0,a.jsxs)("div",{className:$.Box_6,children:[(0,a.jsx)(L.A,{icon:s.AlertFillIcon}),"\xa0Ref is invalid"]})]})]});return(0,a.jsxs)(P.Provider,{value:eW,children:[eK&&(0,a.jsx)(A.oj,{node:eK,children:D.currentOid&&(0,a.jsx)("div",{className:ew?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,a.jsx)(el,{clientOnlyFilePaths:e,data:r,directoryNavigateOnClick:er,rootItems:eO,selectedItemRef:eD,setRootItems:eA,onItemSelected:ez,processingTime:m,loading:ec,fetchError:ep,incompleteFileTree:M,getItemUrl:eT,className:Y,getFileTrailingVisual:ee,getFileIcon:et,sortDirectoryItems:en})})}),!n&&eb.enabled&&i&&(0,a.jsx)(O.az,{sx:{"@media screen and (min-width: 1360px)":{display:"block"}},className:$.Box_7,children:i}),(0,a.jsx)(B.O7.Pane,{position:"start",sticky:!0,padding:"none",width:"large",resizable:!!eo,widthStorageKey:"codeView.tree-pane-width",divider:{regular:"none",narrow:"none"},className:(0,d.$)($.Pane,!n&&$.HideTree,eV||es?$.HidePaneWithTreeOverlay:$.HidePane,q),children:n&&!eV&&(0,a.jsx)("div",{className:eI?es?"react-tree-pane-contents-3-panel":"react-tree-pane-contents":void 0,children:eX})}),n&&eV&&eC.current===es&&(0,a.jsx)(S.Ay,{className:(0,d.$)(eI?es?"react-tree-pane-overlay-3-panel":"react-tree-pane-overlay":void 0,$.Overlay,!n&&$.HideTree),ref:eG,returnFocusRef:l,onClickOutside:eq,onEscape:eq,top:0,position:"fixed",children:(0,a.jsx)(a.Fragment,{children:eX})})]})}function ef(e,t){switch(t.type){case"set":{let n=e?.size>0;return(0,F.BI)("file-tree",{"fetch-count":n?t.folders.size-e.size:t.folders.size,"file-count":t.folders.size,"nav-type":n?"soft":"hard","processing-time":t.processingTime}),t.folders}case"add":{let n=new Map([...e,...t.folders]);return(0,F.BI)("file-tree",{"fetch-count":t.folders.size,"file-count":n.size,"nav-type":"fetch","processing-time":t.processingTime}),n}default:throw Error(`Unknown action type: ${t.type}`)}}function eh({scrollingRef:e}){let[t,n]=u.useState(e.current&&e.current.scrollTop>0);return u.useEffect(()=>{if(e.current){let t=e.current,a=()=>{t&&t.scrollTop>0?n(!0):n(!1)};return t.addEventListener("scroll",a),()=>{t.removeEventListener("scroll",a)}}},[e]),t?(0,a.jsx)("div",{className:$.Box_8}):null}try{em.displayName||(em.displayName="ReposFileTreePane")}catch{}try{eh.displayName||(eh.displayName="TreeBorder")}catch{}var ep=n(76492),ex=n(31315),eg=n(35898),ey=n(71315),e_=n(88431),ev=n(63557);let eR={Heading:"use-tree-pane-module__Heading--iI_ad"};function ew(e,t,n,r,i,l="fileTreeExpanded",o){let{sendRepoClickEvent:s}=(0,h.T)(),c=(0,eg.i)(),d=l?(0,ex.Ri)(l):void 0,m=void 0===ey.XC,p=!c&&d&&"false"!==d.value||c&&n;void 0===p&&(p=!1);let x=(0,u.useRef)(null),g=(0,u.useRef)(null),{screenSize:y}=(0,I.lm)(),[_,v]=(0,u.useState)(p),R=(0,u.useRef)(p),w=(0,u.useRef)(!1),F=(0,u.useRef)(!1),b=(0,u.useCallback)(()=>!(t.current&&window.innerWidth>=eu||!t.current&&window.innerWidth>=I.Gy.xlarge),[t]);(0,e_.N)(()=>{let e=b();e||(w.current=!1),v((0,ep.q)()&&y<I.Gy.large&&!F.current||(!e||w.current)&&(c&&_||!c&&d?.value!=="false"))},[w,d?.value,y,t,b,c]),(0,e_.N)(()=>{let e=!t.current&&window.innerWidth<I.Gy.xlarge,n=!t.current&&window.innerWidth>=I.Gy.xlarge;e&&R.current&&!(0,ep.q)()&&_&&v(!1),n&&R.current&&!_&&v(!0)},[t,y]),(0,e_.N)(()=>{let e=t.current&&window.innerWidth<eu,n=t.current&&window.innerWidth>=eu;e&&R.current&&!(0,ep.q)()&&_&&v(!1),n&&R.current&&!_&&v(!0)},[t]);let C=(0,u.useCallback)(e=>{if(v(!0),b()&&(w.current=!0),e?.setPreference&&(i?.(!0),R.current=!0,l)){let e=new Date(Date.now()+2592e6).toUTCString();(0,ex.TV)(l,"true",e)}e?.focus==="toggleButton"?requestAnimationFrame(()=>x.current?.focus()):e?.focus==="search"&&requestAnimationFrame(()=>g.current?.focus())},[l,2592e6,b,i]),N=(0,u.useCallback)(e=>{if(v(!1),w.current=!1,F.current=!0,e?.setPreference&&(i?.(!1),R.current=!1,l)){let e=new Date(Date.now()+2592e6).toUTCString();(0,ex.TV)(l,"false",e)}e?.focus==="toggleButton"&&requestAnimationFrame(()=>x.current?.focus())},[l,2592e6,i]),T=(0,u.useCallback)(e=>e&&window.innerWidth>=eu||!t.current&&window.innerWidth>=I.Gy.xlarge,[t]),j=(0,u.useMemo)(()=>(0,a.jsx)(ev.A,{as:"h2",className:eR.Heading,children:(0,a.jsx)(f,{expanded:_,ariaControls:e,onToggleExpanded:()=>{s(_?"FILES_TREE.HIDE":"FILES_TREE.SHOW"),_?N({focus:"toggleButton",setPreference:T(t.current)}):C({focus:"toggleButton",setPreference:T(t.current)})},className:void 0!==d||_||m?void 0:"react-tree-toggle-button-with-indicator",ref:x,textAreaId:r,...o})}),[_,e,d,m,r,o,s,N,T,t,C]);return{isTreeExpanded:_,expandTree:C,collapseTree:N,treeToggleElement:j,treeToggleRef:x,searchBoxRef:g}}},12748:(e,t,n)=>{n.d(t,{_:()=>r});var a=n(74848);function r({buttonFocusId:e,buttonHotkey:t,onButtonClick:n,buttonTestLabel:r,onlyAddHotkeyScopeButton:i}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{hidden:!0,"data-testid":r||"","data-hotkey":t,onClick:n,"data-hotkey-scope":e}),!i&&(0,a.jsx)("button",{hidden:!0,"data-hotkey":t,onClick:n})]})}try{r.displayName||(r.displayName="DuplicateOnKeydownButton")}catch{}},93753:(e,t,n)=>{n.d(t,{R:()=>m});var a=n(74848),r=n(78314),i=n(25407),l=n(38411),o=n(43258),s=n(96540),c=n(53552),d=n(80780),u=n(6665);function m({size:e,buttonClassName:t,allowResizing:n,idEnding:m}){let f=(0,r.t)(),{refInfo:h,path:p,action:x}=(0,c.eu)(),g=function(){let{addToast:e}=(0,o.Y6)();return(0,s.useCallback)(t=>e({type:"error",message:t}),[e])}(),{sendRepoClickEvent:y}=(0,u.T)(),{refSelectorShortcut:_}=(0,d.wk)();return(0,a.jsx)(l.PI,{currentCommitish:h.name,defaultBranch:f.defaultBranch,owner:f.ownerLogin,repo:f.name,canCreate:f.currentUserCanPush,cacheKey:h.listCacheKey,selectedRefType:h.refType,getHref:e=>`${(0,i.IO9)({repo:f,commitish:e,action:x,path:p})}${window.location.search}`,hotKey:_.hotkey,onBeforeCreate:e=>y("REF_SELECTOR_MENU.CREATE_BRANCH",{ref_name:e}),onCreateError:g,onOpenChange:e=>e&&y("REF_SELECTOR_MENU"),size:e,buttonClassName:t,allowResizing:n,idEnding:m||"repos-header-ref-selector",useFocusZone:!0})}try{m.displayName||(m.displayName="ReposHeaderRefSelector")}catch{}},6873:(e,t,n)=>{n.r(t),n.d(t,{FileResultRow:()=>O,default:()=>S});var a=n(74848),r=n(31078),i=n(53552),l=n(6665),o=n(19189),s=n(78314),c=n(65787),d=n(25407),u=n(66108),m=n(94195),f=n(96459),h=n(11683),p=n(38621),x=n(82678),g=n(69410),y=n(52446),_=n(81246),v=n(9745),R=n(12004),w=n(21998),F=n(30729),b=n(91385),C=n(96540),I=n(7808),N=n(64642),T=n(76492),j=n(54030);let E={Box:"FileResultsList-module__Box--vA4S3",OverlayEnabled:"FileResultsList-module__OverlayEnabled--TR58f",ActionList:"FileResultsList-module__ActionList--_Vf2k",ActionList_Overlay:"FileResultsList-module__ActionList_Overlay--_kFTy",FilesSearchBox:"FileResultsList-module__FilesSearchBox--fSAh3",ActionList_ItemFocused:"FileResultsList-module__ActionList_ItemFocused--lCTMd",ActionList_Item:"FileResultsList-module__ActionList_Item--DMdMo",HighlightMatch:"FileResultsList-module__HighlightMatch--Is2AV",Box_2:"FileResultsList-module__Box_2--r62Lf",Octicon:"FileResultsList-module__Octicon--LtXx2",PrimerLink:"FileResultsList-module__PrimerLink--vMxOi"};var k=n(34164);let B={excludeDirectories:!1,excludeSeeAllResults:!1};function S({actionListClassName:e,additionalResults:t,commitOid:n,config:u=B,findFileWorkerPath:p,getItemUrl:R,onRenderRow:F,onItemSelected:b,searchBoxRef:S,className:O,sx:A}){let{excludeDirectories:P,excludeSeeAllResults:D}=u,{query:H,setQuery:G}=(0,r.JS)(),M=(0,s.t)(),V=C.useRef(null),z=S??V,[U,W]=C.useState(H.length>0),[K,q]=C.useState(!!H),{list:Z,directories:Y,loading:X,error:J}=(0,j.o)(n,U,!!P),{path:Q}=(0,i.eu)(),{getUrl:ee}=(0,o.Z)(),{queryText:et,queryLine:en}=function(e){let t=(e=e.replaceAll(" ","")).indexOf(":");return t>=0?{queryText:e.substring(0,t),queryLine:parseInt(e.substring(t+1),10)}:{queryText:e,queryLine:void 0}}(H),{matches:ea,clearMatches:er}=function(e,t,n,a){let[r,i]=C.useState(),o=C.useRef(""),s=C.useRef(),{sendStats:c}=(0,l.T)(),d=C.useRef(!1),u=C.useCallback(()=>{let e=new I.z(n,N.j);e.onmessage=({data:e})=>{d.current=!1,i(e.list),o.current=e.query,e.startTime&&c("repository.find-file",{"find-file-base-count":e.baseCount,"find-file-results-count":e.list.length,"find-file-duration-ms":performance.now()-e.startTime})},s.current=e},[c,n]);return C.useEffect(()=>{if(a)return u(),function(){s.current?.terminate()}},[u,a]),C.useEffect(()=>{if(e.length&&t){d.current&&(s.current?.terminate(),u());let n=o.current&&t.startsWith(o.current);d.current=!0,s.current?.postMessage({baseList:n&&r||e,query:t,startTime:performance.now()})}},[e,t,u]),{matches:r,clearMatches:()=>i(void 0)}}((0,C.useMemo)(()=>[...Z,...t??[]].sort(),[t,Z]),et,p,U),{sendRepoClickEvent:ei}=(0,l.T)(),el=(0,f.Z)(),[eo,es]=C.useState(0),[ec,ed]=C.useState(()=>(0,T.q)()),eu=C.useRef(null),em=C.useRef(null),ef="file-results-list",{sendRepoKeyDownEvent:eh}=(0,l.T)(),{screenSize:ep}=(0,m.lm)(),ex=u.enableOverlay??ep>=m.Gy.large,eg=C.useCallback(e=>{ei("FILE_TREE.SEARCH_RESULT_CLICK"),b?.(e),q(!1)},[ei,b]),ey=(e,t,n)=>R?R(e,t,n):ee({path:e,action:t?"tree":"blob",hash:n}),{containerRef:e_}=(0,x.G)({bindKeys:h.z0.ArrowVertical|h.z0.HomeAndEnd,focusInStrategy:"previous"},[X,J]);C.useEffect(()=>{H||q(!1)},[H]),C.useEffect(()=>{document.activeElement!==z.current&&ex&&q(!1)},[Q,z,ex]);let ev=ea?.slice(0,40)||[],eR=ea&&ea.length>ev.length,ew=(0,a.jsx)("div",{className:(0,k.$)(E.Box,{[E.OverlayEnabled]:ex}),children:J?(0,a.jsx)(g.A,{variant:"danger",className:"m-3",children:"Failed to search"}):(0,a.jsxs)(y.l,{ref:e_,className:(0,k.$)(e,E.ActionList,{[E.ActionList_Overlay]:ex}),role:"listbox",children:[!X&&ev.map((e,t)=>{let n=Y.includes(e),r=ey(e,n,en?`L${en}`:"");return(0,a.jsx)($,{active:e===Q,index:t,focused:ec&&eo===t,match:e,onRender:F,query:et,onClick:eg,isDirectory:n,to:r,useOverlay:ex,listRef:e_},e)}),(0,a.jsxs)("div",{className:"m-3 text-center",children:[(0,a.jsx)(L,{loading:X||!ea,visibleResultCount:ev.length,truncated:!!eR}),eR&&!D&&(0,a.jsxs)(a.Fragment,{children:["\xa0",(0,a.jsx)(_.A,{id:"see-all-results-link",className:(0,k.$)("focus-visible",{[E.PrimerLink]:ec&&eo===ev.length}),ref:eu,href:(0,d.Y8Y)({owner:M.ownerLogin,repo:M.name,searchTerm:`path:${et}`}),children:"See all results"})]})]})]})});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.az,{ref:em,sx:A,className:O,children:(0,a.jsx)(T.Z,{ariaActiveDescendant:(!ex&&H||ex&&K)&&ec&&eo>-1?eR&&eo===ev.length?"see-all-results-link":`file-result-${eo}`:void 0,ariaExpanded:ex?K:void 0,ariaHasPopup:ex,ariaControls:ex?ef:void 0,ref:z,query:H,onKeyDown:e=>{let{key:t,shiftKey:n,metaKey:a,altKey:r,ctrlKey:i}=e;if(!n&&!a&&!r){if("Escape"===t)H?(eh("FILE_TREE.CANCEL_SEARCH"),G(""),er()):document.activeElement&&document.activeElement.blur();else if(!H)return;else if("Enter"===t){if(!D&&eR&&eo===ev.length)el((0,d.Y8Y)({owner:M.ownerLogin,repo:M.name,searchTerm:`path:${et}`})),b?.();else if(ev[eo]){let e=ev[eo];el(ey(ev[eo],!1,en?`L${en}`:"")),q(!1),b?.(e)}}else if("ArrowDown"===t||i&&"n"===t){if(!D&&eR&&eo>=ev.length-1){if(es(ev.length),eu.current&&e_.current){let e=(0,c.U)(e_.current);(0,h.Rt)(eu.current,e,{behavior:"instant"})}}else es(Math.min(eo+1,ev.length-1));e.preventDefault();return}else if("ArrowUp"===t||i&&"p"===t){es(Math.max(eo-1,0)),e.preventDefault();return}}},onPreload:()=>W(!0),onSearch:e=>{G(e),e?q(!0):(er(),q(!1)),es(0)},onBlur:e=>{e_.current?.contains(e.relatedTarget)||(q(!1),ed(!1))},onFocus:()=>{H&&q(!0),ed(!0)},className:E.FilesSearchBox})}),ex&&(0,a.jsx)(v.T,{anchorRef:em,open:ex&&K,renderAnchor:null,onClose:()=>{q(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},width:"xlarge",align:"end",overlayProps:{id:ef,role:"dialog"},children:ew}),!ex&&H&&ew]})}function L({visibleResultCount:e,truncated:t,loading:n}){return(0,a.jsx)("span",{role:"status",className:n||t||0===e?void 0:"sr-only","aria-label":n?"Loading":void 0,children:n?(0,a.jsx)(R.A,{size:"large"}):0===e?"No matches found":t?`First ${e} files shown.`:`Showing ${e} files.`},"results-count-status")}let O=({active:e,focused:t,index:n,match:r,query:i,to:l,isDirectory:o,onClick:s,onRender:d,useOverlay:m,listRef:f})=>{let p=(0,b.Xq)(i,r);d?.();let x=C.useRef(null);C.useEffect(()=>{if(t&&x.current&&f?.current){let e=(0,c.U)(f.current);(0,h.Rt)(x.current,e,{behavior:"instant"})}},[t,f]);let g=(0,C.useCallback)(()=>{s?.(r)},[r,s]);return(0,a.jsx)(y.l.Item,{role:"group",active:e,className:(0,k.$)(t?E.ActionList_ItemFocused:void 0),children:(0,a.jsxs)(u.N,{to:l,ref:x,role:"option",onClick:g,id:`file-result-${n}`,tabIndex:m?-1:0,"data-focus-visible-added":t||void 0,className:(0,k.$)("d-flex",E.ActionList_Item),children:[(0,a.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,a.jsx)(D,{text:r,positionsList:p,LeadingIcon:o?A:P,className:E.HighlightMatch})}),t&&(0,a.jsx)("div",{className:E.Box_2,children:`Go to ${o?"folder":"file"}`})]})},r)},A=()=>(0,a.jsx)(F.A,{"aria-label":"Directory",icon:p.FileDirectoryFillIcon,size:"small",className:E.Octicon}),P=()=>(0,a.jsx)(F.A,{"aria-label":"File",icon:p.FileIcon,className:"fgColor-muted mr-2",size:"small"}),$=C.memo(O);function D({text:e,positionsList:t,className:n,LeadingIcon:r}){let i=[],l=0;for(let n of t){if(Number(n)!==n||n<l||n>e.length)continue;let t=e.slice(l,n);t&&i.push(H(t)),l=n+1,i.push((0,a.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:e[n]},n))}return i.push(H(e.slice(l))),(0,a.jsx)("div",{className:n,children:(0,a.jsxs)(a.Fragment,{children:[r&&(0,a.jsx)(r,{}),i]})})}function H(e){return e.replaceAll("/","/\u200B")}try{S.displayName||(S.displayName="FileResultsList")}catch{}try{L.displayName||(L.displayName="FileResultsStatus")}catch{}try{O.displayName||(O.displayName="FileResultRow")}catch{}try{A.displayName||(A.displayName="DirectoryIcon")}catch{}try{P.displayName||(P.displayName="FileResultIcon")}catch{}try{$.displayName||($.displayName="MemoizedFileResultRow")}catch{}try{D.displayName||(D.displayName="HighlightMatch")}catch{}},76492:(e,t,n)=>{n.d(t,{Z:()=>m,q:()=>f});var a=n(74848),r=n(70170),i=n(37272),l=n(6665),o=n(71315),s=n(38621),c=n(21998),d=n(96540),u=n(34164);let m=d.forwardRef(({ariaActiveDescendant:e,ariaControls:t,ariaExpanded:n,ariaHasPopup:o,onBlur:m,onFocus:h,onKeyDown:p,onPreload:x,onSearch:g,query:y,sx:_,className:v},R)=>{let{sendRepoClickEvent:w}=(0,l.T)(),[F,b]=d.useState(y),C=d.useRef((0,r.s)(e=>g(e),250));d.useEffect(()=>{b(y)},[y]);let I=y?(0,a.jsx)(c.ks.Action,{onClick:()=>{w("FILE_TREE.CANCEL_SEARCH"),g("")},icon:s.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0;return(0,a.jsx)(c.ks,{autoFocus:f(),ref:R,value:F,onKeyDown:p,onChange:e=>{b(e.target.value),x(),C.current(e.target.value)},sx:_,className:(0,u.$)("d-flex",v),"aria-label":"Go to file","aria-activedescendant":e,role:o?"combobox":void 0,"aria-controls":t,"aria-expanded":n,"aria-haspopup":o?"dialog":void 0,autoCorrect:"off",spellCheck:"false",placeholder:"Go to file",leadingVisual:s.SearchIcon,trailingAction:I,trailingVisual:I?void 0:()=>(0,a.jsx)(i.E,{children:(0,a.jsx)("kbd",{children:"t"})}),onFocus:e=>{x(),e.target.select(),h?.(e)},onBlur:m,onClick:()=>w("FILE_TREE.SEARCH_BOX")})});function f(){return"1"===new URLSearchParams(o.fV.search).get("search")}m.displayName="FilesSearchBox"},46209:(e,t,n)=>{n.d(t,{Ak:()=>m,cD:()=>u,iK:()=>d});var a=n(74848),r=n(41617),i=n(35898),l=n(82075),o=n(94195),s=n(96540);let c=(0,l.A)("localStorage"),d=(0,s.createContext)({openPanel:void 0,setOpenPanel:()=>void 0});function u({children:e,payload:t,openPanelRef:n}){let l="blame"in t,u=(0,r.Hf)(t),m=(0,i.i)(),f=(0,s.useRef)(void 0),[h,p]=(0,s.useState)(()=>{let e=c.getItem("codeNavOpen");if(!m&&""!==e&&null!==e||m&&t.symbolsExpanded)return"codeNav"}),x=(l||u)&&"codeNav"===h?void 0:h;s.useEffect(()=>{n.current=x},[x,n]);let g=(0,s.useCallback)((e,t)=>{p(n=>(n&&f.current&&f.current.focus(),f.current=t,l||u&&"codeNav"===e?void 0:e))},[l,u]);var y=g;let{screenSize:_}=(0,o.lm)(),v=(0,s.useRef)(_);(0,s.useEffect)(()=>{let e=v.current>=o.Gy.large,t=v.current===_;_<o.Gy.large&&(e||t)&&y(void 0),v.current=_},[_,y]);let R=(0,s.useMemo)(()=>({openPanel:x,setOpenPanel:g}),[x,g]);return(0,a.jsx)(d.Provider,{value:R,children:e})}function m(){return(0,s.useContext)(d)}try{d.displayName||(d.displayName="OpenPanelContext")}catch{}try{u.displayName||(u.displayName="OpenPanelProvider")}catch{}},8624:(e,t,n)=>{n.d(t,{L:()=>s});var a=n(74848),r=n(21728),i=n(38621),l=n(87330),o=n(34164);let s=n(96540).forwardRef((e,t)=>{let n,s,c,d=(0,r.c)(17),{expanded:u,testid:m,ariaLabel:f,ariaControls:h,onToggleExpanded:p,alignment:x,dataHotkey:g,className:y,size:_,tooltipDirection:v,variant:R}=e,w=u?`collapse-${m}`:`expand-${m}`,F=u?"left"===x?i.SidebarExpandIcon:i.SidebarCollapseIcon:"left"===x?i.SidebarCollapseIcon:i.SidebarExpandIcon;d[0]!==p?(n=e=>{p(e)},d[0]=p,d[1]=n):n=d[1];let b=R??"invisible";return d[2]!==y?(s=(0,o.$)(y,"fgColor-muted"),d[2]=y,d[3]=s):s=d[3],d[4]!==h||d[5]!==f||d[6]!==g||d[7]!==u||d[8]!==t||d[9]!==_||d[10]!==w||d[11]!==F||d[12]!==n||d[13]!==b||d[14]!==s||d[15]!==v?(c=(0,a.jsx)(l.K,{"aria-label":f,tooltipDirection:v,ref:t,"data-testid":w,"aria-expanded":u,"aria-controls":h,icon:F,"data-hotkey":g,onClick:n,variant:b,size:_,className:s}),d[4]=h,d[5]=f,d[6]=g,d[7]=u,d[8]=t,d[9]=_,d[10]=w,d[11]=F,d[12]=n,d[13]=b,d[14]=s,d[15]=v,d[16]=c):c=d[16],c});s.displayName="ExpandButton"}}]);
//# sourceMappingURL=packages_app-uuid_app-uuid_ts-packages_repos-file-tree-view_repos-file-tree-view_ts-6635463d3fa6.js.map